# Development Environment Configuration
# Copy this file to .env.development and customize values

# ===========================================
# CORE CONFIGURATION
# ===========================================
NODE_ENV=development
COMPOSE_PROJECT_NAME=aether-identity

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DATABASE_PROVIDER=sqlite

# SQLite Configuration (default for development)
DATABASE_URL=file:./api/prisma/dev.db

# PostgreSQL for development (optional)
# DATABASE_PROVIDER=postgresql
# POSTGRES_DB=aether_identity_dev
# POSTGRES_USER=aether_user
# POSTGRES_PASSWORD=dev_password
# DATABASE_URL=postgresql://aether_user:dev_password@postgres-dev:5432/aether_identity_dev

# ===========================================
# PORT CONFIGURATION
# ===========================================
# Development ports (different from production)
BACKEND_DEV_PORT=8080
FRONTEND_DEV_PORT=3000
POSTGRES_DEV_PORT=5432

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
JWT_SECRET=dev-secret-key-not-for-production
JWT_EXPIRES_IN=24h

# CORS Origins for development
API_CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# ===========================================
# BACKUP & SAFETY CONFIGURATION
# ===========================================
# Disable backups in development for speed
BACKUP_ENABLED=false
AUTO_BACKUP_BEFORE_MIGRATION=false

# Enable dangerous operations in development
DISABLE_DB_RESET=false
DISABLE_SEED_OVERRIDE=false
REQUIRE_MIGRATION_BACKUP=false

# ===========================================
# DIRECTORY CONFIGURATION
# ===========================================
DATA_DIR=./data
BACKUP_DIR=./backups
LOGS_DIR=./logs
INIT_SCRIPTS_DIR=./init-scripts

# PostgreSQL data directories for development
POSTGRES_DEV_DATA_DIR=./data/postgres-dev
POSTGRES_VOLUME_TYPE=none

# ===========================================
# HEALTH CHECK CONFIGURATION
# ===========================================
# Faster health checks for development
POSTGRES_HEALTH_CHECK_INTERVAL=5s
POSTGRES_HEALTH_CHECK_TIMEOUT=3s
POSTGRES_HEALTH_CHECK_RETRIES=5
POSTGRES_HEALTH_CHECK_START_PERIOD=10s

BACKEND_HEALTH_CHECK_INTERVAL=15s
BACKEND_HEALTH_CHECK_TIMEOUT=5s
BACKEND_HEALTH_CHECK_RETRIES=2
BACKEND_HEALTH_CHECK_START_PERIOD=20s

FRONTEND_HEALTH_CHECK_INTERVAL=15s
FRONTEND_HEALTH_CHECK_TIMEOUT=5s
FRONTEND_HEALTH_CHECK_RETRIES=2
FRONTEND_HEALTH_CHECK_START_PERIOD=10s

# ===========================================
# RESTART POLICY
# ===========================================
RESTART_POLICY=no

# ===========================================
# NETWORK CONFIGURATION
# ===========================================
NETWORK_DRIVER=bridge

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
LOG_LEVEL=debug
LOG_FILE=logs/api.log

# ===========================================
# FEATURE FLAGS
# ===========================================
# Enable API docs in development
API_DOCS_ENABLED=true

# Disable Next.js telemetry
NEXT_TELEMETRY_DISABLED=1

# ===========================================
# EXTERNAL SERVICES
# ===========================================
# Backend URL for frontend (development)
BACKEND_URL=http://backend-dev:8080
API_BASE_URL=http://backend-dev:8080