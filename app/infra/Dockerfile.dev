# Dockerfile.dev â€” Next.js Development (no Nginx)

FROM node:20-alpine

# System dependencies (minimal)
RUN apk add --no-cache \
    libc6-compat \
    bash \
    curl

# Install pnpm
RUN npm install -g pnpm@10.28.1

# App directory
WORKDIR /app

# Environment
ENV NODE_ENV=development
ENV PORT=3001
ENV HOSTNAME=0.0.0.0
ENV CHOKIDAR_USEPOLLING=true

# Expose internal port (for Traefik)
EXPOSE 3001

# Dependencies will be installed at runtime (volume-mounted)
CMD ["pnpm", "dev"]
