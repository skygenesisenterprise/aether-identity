version: "3.8"

services:
  aether-console:
    build:
      context: ..
      dockerfile: infra/Dockerfile
    container_name: aether-identity-console
    # Mode interactif obligatoire pour le TUI
    stdin_open: true
    tty: true
    # Privilèges nécessaires pour certaines commandes système
    privileged: true
    # Pour tester localement avec un shell interactif:
    # docker-compose run --rm aether-console
    networks:
      - aether-network
    # Monter le socket Docker si besoin (optionnel)
    # volumes:
    #   - /var/run/docker.sock:/var/run/docker.sock

networks:
  aether-network:
    driver: bridge
